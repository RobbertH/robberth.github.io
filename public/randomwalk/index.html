<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>random walk</title>
		<script
			  src="https://code.jquery.com/jquery-3.2.1.js"
			  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
			  crossorigin="anonymous"></script>
	</head>

	<body>
		<canvas id="myCanvas" width=1900 height=900>	</canvas>
		<form action="" method="post">
			<input type="checkbox" name="drawPath" id="drawPath" /> draw path
		</form>
		<div id="character" style="position: fixed">character</div>
		<script charset="utf-8">
			//TODO: 
			// fix canvas size to 100% !!!
			// separate js and html
			// implement FPS so js doesn't suck up computing resources
			// figure out how to never get ctx undefined or id not found (check after load: jquery, plain js, if(context) ...)    
			// leave trail checkbox
			// slider for stepSize
			// js scopes? not everything should be global 
			// learn about canvas: why doesn't div appear when it's there? what possibilities?
			// find out when to use jQuery: what can you do with vanilla js? 
			// canvas bounce animations (tiny circle ripples, can be done purely css probably)
			// get rid of jquery for performance
			// limit FPS !!!
			var x, y; 
			var ctx;
			var stepSize = 10;
			var path = [];

			x = window.innerWidth/2 - document.getElementById("character").clientWidth;
			y =	window.innerHeight/2 - document.getElementById("character").clientHeight;
			c = document.getElementById("myCanvas");
			ctx = c.getContext("2d");

			function gameLoop() { 
				ctx.moveTo(x,y); // move canvas pencil
				x = Math.max(0, x+stepSize*(-1+2*Math.random())); 
				y = Math.max(0, y+stepSize*(-1+2*Math.random()));
				$("#character").css({'left': x, 'top': y}); // move character (jquery)
				if (document.getElementById("drawPath").checked){
					ctx.lineTo(x,y); // draw distance traveled since last loop 
					ctx.stroke(); // actually draw it :P
					//ctx.putImageData($px, x, y); // should be fast alternative
				}
				window.requestAnimationFrame(gameLoop); // let the loop continue
			}

			window.requestAnimationFrame(gameLoop); // start loop 
		</script>	
	</body>
</html>
